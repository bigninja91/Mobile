<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
<script src='Ractive.js'></script>
<script src="phonegap.js"></script>
</head>

<body>
    <div data-role="page" id="Test">
      <div data-role="header">
<h1>Combat Feed</h1>      
</div>
      <div data-role="content"><!-- RACTIVE binding location - where to display data-->
    <div id='container'></div>
    </div>
      <div data-role="footer">
        <h4>Footer</h4>
      </div>
    </div>






	

	<!--Ractive template - how to display data-->
<script id='myTemplate' type='text/ractive'>
		
	<ul data-role="listview" class="ui-listview-outer" data-inset="true">
  <li data-role="collapsible" data-iconpos="right" data-shadow="false" data-corners="false">
<h2>Combat</h2>
    <ul data-role="listview" data-theme="b">
			{{#combat}}
			<li><a href="{{link}}"> {{title}} </a>{{{description}}} <img src={{enclosure.url}}></img>  </li>
			{{/combat}}
			
		</ul>
		</li>
		
    </script>

    <!-- Load ractivejs -->
    
    <script>
	document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    // Now safe to use the PhoneGap API
alert("Test");
var xmlhttp=new XMLHttpRequest();
		xmlhttp.open("GET","http://pipes.yahoo.com/pipes/pipe.run?_id=102434ed47e9ac8d07470be661f3d5a7&_render=json",false);
		xmlhttp.send();
		
		
		<!-- parse the resulting JSON into Javascript Data Object -->
		<!-- you can use a live parser to inspect the contents of the JSON
		<!-- http://json.parser.online.fr/ -->
		var feed= JSON.parse(xmlhttp.responseText);
	
	
		<!-- Define Ractive binding -->
		var ractive = new Ractive({
            el: 'container', <!-- where -->
            template: '#myTemplate', <!-- how -->
            data: { combat:feed.value.items }
			 <!-- what - specify the list of news articles 'items' using dot notation-->
        });
}
	
	
		<!-- Load the BBC News feed from a yahoo pipe -->
		
		
		
		
    </script>

	
    
	

</body>
</html>
